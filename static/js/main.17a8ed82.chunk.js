(this.webpackJsonpfeedapp=this.webpackJsonpfeedapp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/event.272a483a.jpeg"},104:function(e,t,a){e.exports=a.p+"static/media/avatar.e475dea6.png"},130:function(e,t,a){e.exports=a(149)},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(87),a(88)),l=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,233)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null)),document.getElementById("root")),l()},20:function(e,t,a){"use strict";a.d(t,"c",(function(){return N})),a.d(t,"e",(function(){return y})),a.d(t,"g",(function(){return _})),a.d(t,"d",(function(){return I})),a.d(t,"h",(function(){return w})),a.d(t,"b",(function(){return x})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return f}));var n,r=a(16),c=a(57),i=a(91),o=a(81),l=a(43),u=a(17),s=a.n(u),d=a(26),m=a(54),p=function(e){e},f={endpoints:{fetch_feed:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/get-all-feeds",create_feed:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/create-feed",upload_image:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/image-upload",update_feedbyid:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/update-feed-by-Id/",get_feedbyCid:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/get-feed-by-Id/"},pages:{feed:"/feed",createFeed:"/create"}},g=function(e,t){if(t)switch(t.status){case 200:return t.json().catch((function(e){return e.message}));case 304:default:throw new Error("[API error] Got status ".concat(t.status," from ").concat(e))}},h=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return g(t,e)})).catch((function(e){return __DEV__,console.log(e),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return g(t,e)})).catch((function(e){return __DEV__,console.log("resp",e),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=function(e,t){return b(e,t)},v=function(e,t){return b(e,t)},O=Object(m.b)(),j=O.getInitialState({status:"idle",feeds:[],createDialog:!1,imageUrl:"",isCreated:!1}),y=Object(m.a)("feed/feed",Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=f.endpoints.fetch_feed,h(a);case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject("NETWORK_ERROR"));case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})))),w=Object(m.a)("feed/uploadImage",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(f.endpoints.upload_image,t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject("NETWORK_ERROR"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),x=Object(m.a)("feed/createFeed",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(f.endpoints.create_feed,t);case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject("NETWORK_ERROR"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),C=Object(m.c)({name:"feed",initialState:j,reducers:{showCreateDialog:function(e,t){e.createDialog=t.payload.isVisible}},extraReducers:(n={},Object(l.a)(n,y.fulfilled,(function(e,t){e.feeds=t.payload})),Object(l.a)(n,w.fulfilled,(function(e,t){e.imageUrl=t.payload})),Object(l.a)(n,x.fulfilled,(function(e,t){e.isCreated=t.payload})),n)}),S=O.getSelectors((function(e){return e.feedReducer})),I=(S.selectAll,S.selectById,function(e){return e.feedReducer.createDialog}),_=C.actions.showCreateDialog,D=C.reducer,k=Object(i.composeWithDevTools)(Object(r.applyMiddleware)(c.a)),N=function(e){var t={key:"root",storage:e},a=Object(r.createStore)(Object(o.a)(t,Object(r.combineReducers)({feedReducer:D})),k);return{store:a,persistor:Object(o.b)(a)}}},71:function(e,t,a){"use strict";a.d(t,"b",(function(){return Ie})),a.d(t,"a",(function(){return _e}));var n=a(15),r=a(0),c=a.n(r),i=a(20),o=a(21),l=a(204),u=a(95),s=a(3),d=a(197),m=a(199),p=a(201),f=a(202),g=a(96),h=a.n(g),b=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#24b877",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,width:"20%",textalign:"right"},caption:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:"0 8px",flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{paddingTop:50,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",color:"#fff"},addIcon:{height:45,width:45}}})),E=function(e){var t=e.children,a=b();return c.a.createElement("div",null,c.a.createElement(m.a,null),c.a.createElement(p.a,{position:"absolute",className:Object(s.a)(a.appBar)},c.a.createElement(f.a,{className:a.toolbar},c.a.createElement("img",{src:h.a,style:{height:90,width:230},alt:"logo 1"}))),c.a.createElement("main",{className:a.content},c.a.createElement("div",null,c.a.createElement("div",{className:a.appBarSpacer}),t)))},v=a(43),O=a(205),j=a(206),y=a(207),w=a(208),x=a(209),C=a(210),S=a(227),I=a(203),_=a(61),D=a(106),k=a.n(D),N=a(107),z=a.n(N),R=a(105),M=a.n(R),q=a(101),F=a.n(q),T=a(102),B=a.n(T),U=function(e){e.id;var t=Object(r.useState)(!1),a=Object(n.a)(t,2),i=a[0],o=a[1];Object(r.useEffect)((function(){}),[i]);return c.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end"}},c.a.createElement(I.a,{"aria-label":"add to favorites",onClick:function(){o(!i)}},c.a.createElement(B.a,{style:{color:i?"red":"gray"}}),c.a.createElement(_.a,{variant:"caption",component:"p"},"1k")))},A=a(103),P=(a(144),function(e){var t=e.feedImages;return c.a.createElement("div",null,c.a.createElement(A.Slide,{easing:"ease"},t.map((function(e,t){return c.a.createElement("div",{className:"each-slide"},c.a.createElement("div",{className:"image-container"},c.a.createElement("img",{src:e.imageUrl,style:{width:"100%",height:350},alt:"slide"})))}))))}),W=a(221),L=a(104),H=a.n(L),V=function(e){var t=Math.floor(((new Date).valueOf()-new Date(e).valueOf())/1e3);return Math.round(t/31557600)>=2?Math.round(t/31557600)+" years ago":Math.round(t/31557600)>=1?"1 year ago":Math.round(t/2626560)>=2?Math.round(t/2626560)+" months ago":Math.round(t/2626560)>=1?"1 month ago":Math.round(t/604800)>=2?Math.round(t/604800)+" weeks ago":Math.round(t/604800)>=1?"1 week ago":Math.round(t/86400)>=2?Math.round(t/86400)+" days ago":Math.round(t/86400)>=1?"1 day ago":Math.round(t/3600)>=2?Math.round(t/3600)+" hours ago":Math.round(t/3600)>=1?"1 hour ago":Math.round(t/60)>=2?Math.round(t/60)+" minutes ago":Math.round(t/60)>=1?"1 minute ago":t>=2?t+" seconds ago":t+"1 second ago"},G=Object(d.a)((function(e){return{root:{maxWidth:"100%"},conatainer:{marginBottom:30},media:{height:0,padding:15,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"#000"},image:{width:"100%",height:"100%"}}})),J=function(e){var t=e.data,a=e.index,i=G(),o=c.a.useState(!1),u=Object(n.a)(o,2),d=u[0],m=u[1];Object(r.useEffect)((function(){0===a&&m(!0)}),[a]);var p=JSON.parse(t.object_urls)[0],f="",g=[];return p?p.imageUrl.indexOf("png")>0||p.imageUrl.indexOf("jpg")>0||p.imageUrl.indexOf("jpeg")>0?(f=p.imageUrl,g=JSON.parse(t.object_urls)):g=[]:f=F.a,c.a.createElement(l.a,{className:i.conatainer},c.a.createElement(W.a,{boxShadow:15,bgcolor:"background.paper"},c.a.createElement(O.a,{className:i.root},c.a.createElement(j.a,{avatar:c.a.createElement(S.a,{"aria-label":"recipe",className:i.avatar},c.a.createElement("img",{src:H.a,alt:"event",className:i.image})),action:c.a.createElement(I.a,{"aria-label":"settings"},c.a.createElement(M.a,null)),title:t.compiagn_title,subheader:V(t.createAt)}),g.length>1?c.a.createElement(P,{feedImages:g}):f&&c.a.createElement(y.a,{className:i.media,image:f,title:"Event"}),c.a.createElement(w.a,null,c.a.createElement(_.a,{variant:"body2",color:"textSecondary",component:"p"},t.compiagn_title)),c.a.createElement(x.a,{disableSpacing:!0},c.a.createElement(I.a,{"aria-label":"add to favorites"},c.a.createElement(U,null)),c.a.createElement(I.a,{"aria-label":"share"},c.a.createElement(k.a,null)),c.a.createElement(I.a,{className:Object(s.a)(i.expand,Object(v.a)({},i.expandOpen,d)),onClick:function(){m(!d)},"aria-expanded":d,"aria-label":"show more"},c.a.createElement(z.a,null))),c.a.createElement(C.a,{in:d,timeout:"auto",unmountOnExit:!0},c.a.createElement(w.a,null,c.a.createElement(_.a,{paragraph:!0},t.description))))))},K=a(17),Q=a.n(K),Y=a(26),X=a(112),Z=a(212),$=a(225),ee=a(214),te=a(213),ae=a(231),ne=a(226),re=a(224),ce=a(70),ie=a(110),oe=a.n(ie),le=a(109),ue=a.n(le),se=a(108),de=a.n(se),me=a(211),pe=function(e){var t=e.uploadedImages,a=e.addOne,l=e.setFilecomponents,u=e.index,s=Object(o.b)(),d=Object(r.useState)(""),m=Object(n.a)(d,2),p=m[0],f=m[1],g=Object(r.useState)(""),h=Object(n.a)(g,2),b=h[0],E=h[1],v=Object(r.useState)(""),O=Object(n.a)(v,2),j=O[0],y=O[1],w=Object(r.useState)(!1),x=Object(n.a)(w,2),C=x[0],S=x[1],I=function(){var e=Object(Y.a)(Q.a.mark((function e(){var a,n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.split(";"),n={image:a[1],mime:j,name:b},e.next=4,s(Object(i.h)(n));case 4:"feed/uploadImage/fulfilled"===(r=e.sent).type&&(S(!0),t(r.payload.imageURL));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",null,p?c.a.createElement(me.a,{conatainer:!0,spacing:2},c.a.createElement(me.a,{item:!0,xs:6},c.a.createElement("img",{src:p,style:{height:100,width:"100%"},alt:"feed"}),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},C?c.a.createElement(de.a,{style:{fontSize:35}}):c.a.createElement("div",{style:{width:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},c.a.createElement(ue.a,{style:{fontSize:35},onClick:function(){I(l[u],u)}}),c.a.createElement(_.a,{component:"p",variant:"p"},"Upload to S3")),c.a.createElement("div",{style:{width:150,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},c.a.createElement(oe.a,{style:{color:ce.a[500],fontSize:35},onClick:a}),c.a.createElement(_.a,{component:"p",variant:"p"},"Add More"))))):c.a.createElement(Z.a,{containerElement:"label",label:"My Label"},c.a.createElement("input",{accept:"image/png, image/gif, image/jpeg",type:"file",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0].name;E(t),y(e.target.files[0].type);var a=new FileReader;a.readAsDataURL(e.target.files[0]),a.onloadend=function(e){f(e.target.result)}}}})))},fe=a(228),ge=a(230),he=a(215),be=a(222),Ee=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},formControl:{width:"100%"},selectEmpty:{marginTop:e.spacing(2)},dialog:{width:"100%"}}})),ve=[{compiagntitle:"Build a proper shelter for children studying at Quran and Hifdh school in Chad.",compiagnId:"1234"},{compiagntitle:"Qurbani Udhiyah for Orphans, Widows and Needy in Africa.",compiagnId:"78612"}],Oe=function(){var e=Ee(),t=Object(o.c)(i.d),a=Object(o.b)(),l=Object(r.useState)(""),u=Object(n.a)(l,2),s=u[0],d=u[1],m=Object(r.useState)(""),p=Object(n.a)(m,2),f=p[0],g=p[1],h=Object(r.useState)(""),b=Object(n.a)(h,2),E=b[0],v=b[1],O=c.a.useState(!1),j=Object(n.a)(O,2),y=j[0],w=j[1],x=c.a.useState(!1),C=Object(n.a)(x,2),S=C[0],I=C[1],D=Object(r.useState)([]),k=Object(n.a)(D,2),N=k[0],z=k[1],R=Object(r.useState)(1),M=Object(n.a)(R,2),q=M[0],F=M[1],T=function(e,t){"clickaway"!==t&&w(!1)},B=function(e,t){"clickaway"!==t&&I(!1)};function U(e){z([].concat(Object(X.a)(N),[e]))}for(var A=function(){var e=Object(Y.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=[],N.map((function(e,t){return n.push({type:"image",imageUrl:e}),0})),r={compiagn_id:s,compiagn_title:f,description:E,object_urls:n},e.next=7,a(Object(i.b)(r));case 7:"feed/createFeed/fulfilled"===e.sent.type?(w(!0),P(),F(1)):I(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){F(1),a(Object(i.g)({isVisible:!1}))},W=[],L=function(){F(q+1)},H=function(e,t){t>-1&&(W.splice(t,1),F(W.length))},V=function(){},G=0;G<q;G++)W.push(c.a.createElement(pe,{index:G,uploadedImages:U,addOne:L,removeOne:H,setFilecomponents:W,uploadImage:V}));return c.a.createElement($.a,{open:t,onClose:P,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:e.dialog},c.a.createElement(te.a,{id:"alert-dialog-title"},c.a.createElement(_.a,{component:"h1",variant:"h5"},"Create New Feed")),c.a.createElement(ee.a,{style:{width:"500px"}},c.a.createElement("form",{className:e.form,noValidate:!0},c.a.createElement(he.a,{variant:"outlined",className:e.formControl},c.a.createElement(fe.a,{id:"demo-simple-select-outlined-label"},"Compiagn"),c.a.createElement(be.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:s,onChange:function(e){var t=ve.find((function(t){return t.compiagnId===e.target.value}));d(e.target.value),g(t.compiagntitle)},label:"compiagn"},ve.map((function(e,t){return c.a.createElement(ge.a,{value:e.compiagnId},e.compiagntitle)})))),c.a.createElement(ae.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,multiline:!0,rows:5,name:"feedDescription",label:"Feed Description",id:"feedDescription",onChange:function(e){return v(e.target.value)}}),W,c.a.createElement(Z.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:e.submit,onClick:A},"POST")),c.a.createElement(ne.a,{open:S,autoHideDuration:6e3,onClose:B},c.a.createElement(re.a,{onClose:B,severity:"error"},"Something went wrong!")),c.a.createElement(ne.a,{open:y,autoHideDuration:6e3,onClose:T},c.a.createElement(re.a,{onClose:T,severity:"success"},"Created Successfully!"))))},je=a(219),ye=a(111),we=a.n(ye),xe=function(){var e=Object(o.b)();return c.a.createElement("div",{style:{position:"fixed",bottom:50,right:50}},c.a.createElement(je.a,{onClick:function(){e(Object(i.g)({isVisible:!0}))},style:{backgroundColor:"#24b877"},"aria-label":"add"},c.a.createElement(we.a,{style:{color:"#fff"}})))},Ce=a(220),Se=Object(d.a)((function(e){return{title:{marginLeft:20,marginBottom:10}}})),Ie=function(){var e=Se(),t=Object(o.b)(),a=Object(r.useState)([]),u=Object(n.a)(a,2),s=u[0],d=u[1],m=Object(r.useState)(!1),p=Object(n.a)(m,2),f=p[0],g=p[1],h=Object(o.c)((function(e){return e.feedReducer.isCreated}));return Object(r.useEffect)((function(){g(!1);Promise.resolve().then((function(){return t(Object(i.e)())})).then((function(e){e.payload&&d(e.payload.items)})).then((function(){g(!0)})).catch((function(e){return console.log(e)}))}),[t,h]),c.a.createElement(E,null,c.a.createElement(l.a,{maxWidth:"md"},c.a.createElement(_.a,{component:"h1",variant:"h4",color:"inherit",noWrap:!0,className:e.title},"Feeds"),f?s&&s.map((function(e,t){return c.a.createElement(J,{key:t,index:t,data:e})})):c.a.createElement(Ce.a,null)),c.a.createElement(Oe,null),c.a.createElement(xe,null))},_e=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"create feed"))}},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={BASE_URL:"https://api.github.com/",FETCH_FEED:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/get-all-feeds",CREATE_FEED:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/create-feed",UPLOAD_IMAGE:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/image-upload",UPDATE_FEED:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/update-feed-by-Id/",FETCH_FEEDBYID:"https://elm9wzmqq4.execute-api.ap-south-1.amazonaws.com/dev/get-feed-by-Id/"}},87:function(e,t,a){},88:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),c=a(89),i=a(21),o=a(20),l=a(92),u=a.n(l),s=a(78),d=a(93),m=(a(87),Object(o.c)(u.a)),p=m.persistor,f=m.store;t.a=function(){return Object(n.useEffect)((function(){e.locales=o.a,e.config=s.a,Object(o.f)(s.a)}),[]),r.a.createElement(i.a,{store:f},r.a.createElement(c.a,{loading:null,persistor:p},r.a.createElement("div",{className:"back"},r.a.createElement(d.a,null))))}}).call(this,a(74))},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),c=a(77),i=a(94),o=function(){return r.a.createElement(c.a,null,r.a.createElement(i.a,null))}},94:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),c=a(11),i=a(71),o=function(){return r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:e.locales.pages.createFeed,component:i.a}),r.a.createElement(c.a,{exact:!0,path:e.locales.pages.feed,component:i.b}),r.a.createElement(c.a,{exact:!0,path:"/",component:i.b}))}}).call(this,a(74))},96:function(e,t,a){e.exports=a.p+"static/media/logo.bdb1afe6.png"}},[[130,1,2]]]);
//# sourceMappingURL=main.17a8ed82.chunk.js.map